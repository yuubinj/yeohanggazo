let selectedRegion = {
  name: '', // 지역 이름
  code: ''  // 지역 코드
};

function selectRegion(button) {
  $('.region-button-group').find('button').removeClass('active');
  $(button).addClass('active');

  selectedRegion.name = button.dataset.areaName || '전국';
  selectedRegion.code = button.dataset.areaCode || '';

  console.log(`[공통] 선택된 지역: ${selectedRegion.name} (${selectedRegion.code || '전국'})`);

  const activePanelId = $('.tab-pane.active').attr('id');

  if (activePanelId === 'weather-panel') {
    loadWeather();
  } else if (activePanelId === 'restaurant-panel') {
    loadRestaurants();
  } else if (activePanelId === 'transport-panel') {
    // 교통 패널 ->지역버튼과 상관없이 실행 
  } else if (activePanelId === 'specialty-panel') {
    loadSpecialties();
  } else if (activePanelId === 'tourist-panel') {
    let activebtn = $('.region-button-group').find('button.active');
    let areaCode = activebtn.length > 0 ? activebtn.data('area-code') : '';
    if (($('#inputKeyword').val().trim() !== $('#searchKeyword').val() || $('#selectedArea').val() !== areaCode)
        && $('#inputKeyword').val().trim() !== '') {
      loadTour(1);
    }
  } else if (activePanelId === 'festival-panel') {
    //  지역탭 전용 축제 함수명 변경
    resetAndFetchRegionFestivalData();
  }
}
